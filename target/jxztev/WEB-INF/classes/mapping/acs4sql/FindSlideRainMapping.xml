<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.jxztev.dao.acs4sql.IFindSlideRainDao">
    <resultMap id="FindSlideRainResultMap" type="com.jxztev.entity.acs4sql.FindSlideRainResponse">
        <result property="stcd" column="stcd" javaType="String"
                jdbcType="VARCHAR"/>
        <result property="stnm" column="stnm" javaType="String"
                jdbcType="VARCHAR"/>
        <result property="cnnm" column="cnnm" javaType="String"
                jdbcType="VARCHAR"/>
        <result property="stlc" column="stlc" javaType="String"
                jdbcType="VARCHAR"/>
        <result property="starttm" column="starttm" javaType="String"
                jdbcType="VARCHAR"/>
        <result property="endtm" column="endtm" javaType="String"
                jdbcType="VARCHAR"/>
        <result property="pp" column="pp" javaType="float"
                jdbcType="VARCHAR"/>
    </resultMap>

    <select id="findSlideRainHandler" parameterType="com.jxztev.entity.acs4sql.FindSlideRainRequest"
            resultMap="FindSlideRainResultMap">
    <![CDATA[

                  select a.stcd as stcd,b.stnm as stnm,b.cnnm as cnnm,b.stlc as stlc,starttm as starttm,endtm as endtm,pp as pp from stext_slideanlmax_r a left join stext_stbprp_v b on a.stcd = b.stcd where b.stnm is not null and hours = #{hours} and period = #{period} and pp > #{drp} and starttm >= sysdate - 1 and a.stcd in ( select stcd from st_stbprp_b where addvcd like '36%' ) order by pp desc

        ]]>
</select>
</mapper>
